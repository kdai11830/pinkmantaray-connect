<!DOCTYPE html>
<html lang="en">
<head>
<title><%= data.name %>'s Profile | Pinkmantaray Connect</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://kit.fontawesome.com/07e3f56f33.js" crossorigin="anonymous"></script>
<link href="../stylesheets/profile.css" rel="stylesheet" type="text/css">
<link
	href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;600;800;900&family=Open+Sans&family=Poppins:wght@400;700;900&family=Roboto:ital,wght@0,100;0,300;0,500;0,900;1,900&display=swap"
	rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body id="profileBody">
	
	<%- include("../partials/header") %>
	<div id="connectBody">

	
		<h2>My profile</h2>

		<% if (Object.keys(data).length === 0) { %>
			<form action="/" method="GET">
			<h2>Profile not found!</h2>
			<input type="submit" name="returnHome" value="Return to Home">
			</form>

		<% } else { %>
			
			<div id="profilePage">

				<div id="profileLeft">
					<div>
						<%= data.name.split(" ")[0] %>
					</div>
				
					<% if (!data.myProfile) { %>
					<form id="profileForm" action="/report?username=<%= data.username %>" method="GET">
					
						<input type="hidden" name="userId" value="<%= data.id %>">
						<input type="hidden" name="username" value="<%= data.username %>">
						<div id="reportDiv">
							<input type="submit" name="reportBtn" value="Report">
						</div>
						<% } else { %>
						<form id="profileForm" action="/profile?edit=" method="GET">
					
							<div id="reportDiv">
								<button type="submit" name="edit">Edit Profile <i class="far fa-edit"></i></button>
							</div>
							<% } %>
					
						</form>
						<div>
							<a href="https://instagram.com/<%= data.instagram %>">
								<i class="fab fa-instagram fa-2x"></i></a>
							<a href=""><i class="far fa-envelope fa-2x"></i></a>
						</div> <!-- TODO -->

					<div><%= data.name %></div>
			
					<div><%= data.pronouns %></div>				
				</div>
				<div id="profileRight">
					<table id="profileInfo">
						<tr>
							<td><span>Age: </span><%= new Date().getFullYear() - data.year %> years old</td>
						</tr>
						<tr>
							<td><span>Gender: </span><%= data.gender.join(', ') %></td>
						</tr>
						<tr>
							<td><span>Country: </span><%= data.country %></td>
						</tr>
						<tr>
							<td><span>Language: </span><%= data.language.join(', ') %></td>
						</tr>
						<tr>
							<td><span>Sexuality: </span><%= data.sexuality.join(', ') %></td>
						</tr>
						<tr>
							<td><span>Ethnicity: </span><%= data.race_ethnicity.join(', ') %></td>
						</tr>
						<tr>
							<td><span>Religion: </span><%= data.religion.join(', ') %></td>
						</tr>
						<tr>
							<td><span>Interests: </span><%= data.interest.join(', ') %></td>
						</tr>
					</table>
				</div>
			</div>

		<% } %>
	</div>
</body>