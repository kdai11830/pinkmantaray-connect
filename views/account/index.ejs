<!DOCTYPE html>
<html lang="en">
<head>
<title><%= data.name %>'s Profile | Pinkmantaray Connect</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://kit.fontawesome.com/07e3f56f33.js" crossorigin="anonymous"></script>
<link href="../stylesheets/profile.css" rel="stylesheet" type="text/css">
<link
	href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400;600;800;900&family=Open+Sans&family=Poppins:wght@400;700;900&family=Roboto:ital,wght@0,100;0,300;0,500;0,900;1,900&display=swap"
	rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>
	
	<%- include("../partials/header") %>

	<% if (Object.keys(data).length === 0) { %>
		<form action="/" method="GET">
		<h2>Profile not found!</h2>
		<input type="submit" name="returnHome" value="Return to Home">
		</form>

	<% } else { %>	

		<div id="profileInfoDiv">
			<div>
				<div>
					<%= data.name[0] %>
				</div>
				
			</div>
			<table id="profileInfo">
				<tr>
					<td><a href="https://instagram.com/<%= data.instagram %>">
							<i class="fab fa-instagram fa-2x"></i></a></td>
					<td><a href=""><i class="far fa-envelope fa-2x"></i></a></td> <!-- TODO -->
				</tr>
				<tr>
					<td><%= data.name %></td>
				</tr>
				<tr>
					<td><%= data.pronouns %></td>
				</tr>
				<tr>
					<td><%= new Date().getFullYear() - data.year %> years old</td>
				</tr>
				<tr>
					<td><%= data.gender.join(', ') %></td>
				</tr>
				<tr>
					<td><%= data.country %></td>
				</tr>
				<tr>
					<td><%= data.language.join(', ') %></td>
				</tr>
				<tr>
					<td><%= data.sexuality.join(', ') %></td>
				</tr>
				<tr>
					<td><%= data.race_ethnicity.join(', ') %></td>
				</tr>
				<tr>
					<td><%= data.religion.join(', ') %></td>
				</tr>
				<tr>
					<td><%= data.interest.join(', ') %></td>
				</tr>
			</table>
		</div>

		<% if (!data.myProfile) { %>
			<form id="profileForm" action="/report?username=<%= data.username %>" method="GET">

			<input type="hidden" name="userId" value="<%= data.id %>">
			<input type="hidden" name="username" value="<%= data.username %>">
			<div id="reportDiv">
				<input type="submit" name="reportBtn" value="Report">
			</div>
		<% } else { %>
			<form id="profileForm" action="/profile?edit=" method="GET">

			<div id="reportDiv">
				<button type="submit" name="edit"><i class="far fa-edit fa-2x"></i></button>
			</div>
		<% } %>

		</form>

	<% } %>

</body>